
<!DOCTYPE html>
<html lang="en">
<head>
  
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">

  <meta http-equiv="Cache-Control" content="public" />
 
<!-- Enable responsiveness on mobile devices -->
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta name="generator" content="Hugo 0.80.0" />

    
    
    

<title>Image Overview • rgee Theme</title>


<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Image Overview"/>
<meta name="twitter:description" content="Adapted from Google Earth Engine Documentation.
raster data are represented as Image objects in Earth Engine. Images are composed of one or more bands and each band has its own name, data type, scale, mask and projection. Each image has metadata stored as a set of properties.
 addClassKlippyToPreCode(); addClassKlippyTo(&#34;pre.r, pre.markdown&#34;); addKlippy(&#39;right&#39;, &#39;top&#39;, &#39;auto&#39;, &#39;1&#39;, &#39;Click to copy&#39;, &#39;Done&#39;);  1. ee.Image constructor Images can be loaded by pasting an Earth Engine asset ID into the ee$Image constructor."/>

<meta property="og:title" content="Image Overview" />
<meta property="og:description" content="Adapted from Google Earth Engine Documentation.
raster data are represented as Image objects in Earth Engine. Images are composed of one or more bands and each band has its own name, data type, scale, mask and projection. Each image has metadata stored as a set of properties.
 addClassKlippyToPreCode(); addClassKlippyTo(&#34;pre.r, pre.markdown&#34;); addKlippy(&#39;right&#39;, &#39;top&#39;, &#39;auto&#39;, &#39;1&#39;, &#39;Click to copy&#39;, &#39;Done&#39;);  1. ee.Image constructor Images can be loaded by pasting an Earth Engine asset ID into the ee$Image constructor." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://r-earthengine.github.io/image_01/" />
<meta property="article:published_time" content="2020-01-04T00:00:00+00:00" />
<meta property="article:modified_time" content="2020-01-04T00:00:00+00:00" /><meta property="og:site_name" content="rgee Theme" />



<link rel="canonical" href="https://r-earthengine.github.io/image_01/" />

<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
<link rel="icon" href="/favicon.ico" type="image/x-icon">





<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Allerta+Stencil">

<link rel="stylesheet" href="/css/w3.css" />


<link rel="stylesheet" href="/css/style.css" />

<link rel="stylesheet" href="/css/highlightjs/default.css" />
<link rel="stylesheet" href="/css/highlightjs/textmate.css" />

<link rel="stylesheet" href="/css/bootstrap/bootstrap.min.css" />



<script src="/js/highlightjs/highlight.js"></script>

<script src="/js/navigation/codefolding.js"></script>
<script src="/js/navigation/sourceembed.js"></script>
<script src="/js/navigation/tabsets.js"></script>

<script src="/js/navigation/bootstrap.min.js"></script>
<script src="/js/navigation/html5shiv.min.js"></script>
<script src="/js/navigation/respond.min.js"></script>


<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<script>

function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>



<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>


<script>
$(document).ready(function () {
  window.initializeCodeFolding("hide" === "show");
});
</script>



<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>








  
  
</head>
<body class="w3-light-grey">


    
    <header id="header">
         
        <div class="w3-right ">
<div class="w3-bar w3-light-grey  ">
  

  
      <span class="w3-hide-small">

      </span>
  
</div>
</div>
<br><br><br><br>
  <div class="w3-content">  
  <div class="w3-container w3-center w3-padding-32 w3-hide-small">
      <div class="rgee-text-wrapper">
      <a href="https://r-spatial.github.io/rgee/">
      <img src=https://user-images.githubusercontent.com/16768318/103302656-6af99c00-4a04-11eb-99ec-4dea22afa5ee.png alt="logo" class="rgee-img-responsive"></img>
      </a>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="rgee-svg"><path d="M18 2l6 10.5-6 10.5h-12l-6-10.5 6-10.5z"/></svg>    
      </div>         
      <br><br><br><br><br>   
      <h1 class="rgee-title">
        
          Google Earth Engine with R
        
      </h1>
      
    </div>
    <div class="w3-content w3-center">
    <div class="w3-bar w3-light-grey w3-border">
    <a href="/" class="w3-bar-item w3-button w3-large w3-green"><i class="fa fa-home"></i></a>
    
      <a href="/categories/" class="w3-bar-item w3-button w3-hide-small">Categories</a>
    
      <a href="/tags/" class="w3-bar-item w3-button w3-hide-small">Tags</a>
    
      <a href="/allposts/" class="w3-bar-item w3-button w3-hide-small">All Posts</a>
    
   
    
    <a href="javascript:void(0)" class="w3-bar-item w3-button w3-right w3-hide-large w3-hide-medium" onclick="displaymenu()">&#9776;</a>
  </div>

<div id="mobilemenu" class="w3-bar-block w3-light-grey w3-hide w3-hide-large w3-hide-medium">
  
      <a href="/categories/" class="w3-bar-item w3-button">Categories</a>
      
      <a href="/tags/" class="w3-bar-item w3-button">Tags</a>
      
      <a href="/allposts/" class="w3-bar-item w3-button">All Posts</a>
      
  
</div>
</div>
</div>
<script>
function displaymenu() {
    var x = document.getElementById("mobilemenu");
    if (x.className.indexOf("w3-show") == -1) {
        x.className += " w3-show";
    } else { 
        x.className = x.className.replace(" w3-show", "");
    }
}
</script>



    
    <hr class="headfoot">
   
      
    </header>
    
<div class="w3-content">
    
      <div>
        
        <div id="content" >
          
    

 
     


  <div class="w3-content w3-card-4" >
    
    <header class="w3-container w3-center w3-padding-32">
      <h1>Image Overview</h1>

      <div >
        <p> 2020-01-04 
          
             <code> 488 words  </code>
             <code> 3 mins read </code>
          
        </p>
        <div >
            
              <a class="w3-btn w3-small w3-round w3-green" href="/categories/image/"> image </a>
            
          </div>
       
        
      </div>
    </header>

   
    
    <div class="w3-container">
      
        

        
        

        
          
          
          
<script src="/rmarkdown-libs/header-attrs/header-attrs.js"></script>
<script src="/rmarkdown-libs/clipboard/clipboard.min.js"></script>
<link href="/rmarkdown-libs/primer-tooltips/build.css" rel="stylesheet" />
<link href="/rmarkdown-libs/klippy/css/klippy.min.css" rel="stylesheet" />
<script src="/rmarkdown-libs/klippy/js/klippy.min.js"></script>


<p><strong>Adapted from <a href="https://developers.google.com/earth-engine/guides/image_overview">Google Earth Engine Documentation</a>.</strong></p>
<p>raster data are represented as <strong>Image</strong> objects in Earth Engine. Images are composed of one or more bands and each band has its own name, data type, scale, mask and projection. Each image has metadata stored as a set of properties.</p>
<script>
  addClassKlippyToPreCode();
  addClassKlippyTo("pre.r, pre.markdown");
  addKlippy('right', 'top', 'auto', '1', 'Click to copy', 'Done');
</script>
<div id="ee.image-constructor" class="section level3">
<h3>1. ee.Image constructor</h3>
<p>Images can be loaded by pasting an Earth Engine asset <strong>ID</strong> into the <code>ee$Image</code> constructor. You can find image <strong>IDs</strong> in the <a href="https://developers.google.com/earth-engine/datasets"><strong>data catalog</strong></a>. For example, to load <a href="https://developers.google.com/earth-engine/datasets/catalog/JAXA_ALOS_AW3D30_V2_2"><strong>JAXA’s ALOS DSM</strong></a>:</p>
<pre class="r"><code>library(rgee)
ee_Initialize()
srtm &lt;- ee$Image(&quot;USGS/SRTMGL1_003&quot;)</code></pre>
</div>
<div id="get-an-ee.image-from-an-ee.imagecollection" class="section level3">
<h3>2. Get an ee.Image from an ee.ImageCollection</h3>
<p>The standard way to get an image out of a collection is to filter the collection, with filters in order of decreasing specificity. For example, to get an image out of the <a href="Sentinel-2%20MSI:%20MultiSpectral%20Instrument,%20Level-1C"><strong>Sentinel-2 surface reflectance collection</strong></a>:</p>
<pre class="r"><code># Load an image collection
sen &lt;- ee$ImageCollection(&quot;COPERNICUS/S2&quot;)$
  filterBounds(ee$Geometry$Point(-70.48, 43.3631))$
  filterDate(&#39;2019-01-01&#39;, &#39;2019-12-31&#39;)$
  sort(&#39;CLOUDY_PIXEL_PERCENTAGE&#39;)$
  first()

# Define the visualization parameters.
vizParams &lt;- list(
  bands = c(&quot;B4&quot;, &quot;B3&quot;, &quot;B2&quot;),
  min = 0,
  max = 2000,
  gamma = c(0.95, 1.1, 1)
)

# Center the map and display the image.
Map$centerObject(sen, 7)
# You can see it
m1 &lt;- Map$addLayer(sen, vizParams, &#39;first&#39;)
m1</code></pre>
<figure>
<center>
<img src="/placeholder.svg" data-src="https://user-images.githubusercontent.com/16768318/103921860-480d6d00-5113-11eb-9972-ea79088ef618.png" width="60%"><br>
<caption>
<strong>Figure N°01:</strong> Sentinel-2 RGB Porland,USA
</caption>
</center>
<br>
</figure>
<p>Note that the sort is after the filters. Avoid sorting the entire collection.</p>
<p>To display the results in QGIS copy <code>m1$rgee$tokens</code> into XYZ Tiles:</p>
<pre class="r"><code>m1$rgee$tokens
#[1] &gt; &quot;https://earthengine.googleapis.com/v1alpha/projects/earthengine-legacy/maps/af6fc12945dfe1342891968f6b8b3c47-d47e902ef95199a5c37959f3aec47388/tiles/{z}/{x}/{y}&quot;</code></pre>
<figure>
<center>
<img src="/placeholder.svg" data-src="https://user-images.githubusercontent.com/16768318/103919226-1b0b8b00-5110-11eb-8c83-5a79325297da.png" width="85%"><br>
<caption>
<strong>Figure N°02:</strong> rgee &amp; QGIS map integration
</caption>
</center>
<br>
</figure>
</div>
<div id="images-from-cloud-geotiffs" class="section level3">
<h3>3. Images from Cloud GeoTIFFS</h3>
<p>You can use <code>ee$Image$loadGeoTIFF()</code> to load images from <a href="https://github.com/cogeotiff/cog-spec/blob/master/spec.md"><strong>Cloud Optimized GeoTIFFs</strong></a> in <a href="https://cloud.google.com/storage"><strong>Google Cloud Storage</strong></a>. For example, the <a href="https://console.cloud.google.com/marketplace/details/usgs-public-data/landast?pli=1"><strong>public Landsat dataset</strong></a> hosted in Google Cloud contains <a href="https://console.cloud.google.com/storage/browser/_details/gcp-public-data-landsat/LC08/01/001/002/LC08_L1GT_001002_20160817_20170322_01_T2/LC08_L1GT_001002_20160817_20170322_01_T2_B5.TIF"><strong>this GeoTIFF</strong></a>, corresponding to band 5 from a Landsat 8 scene. You can load this image from Cloud Storage using <code>ee$Image$loadGeoTIFF()</code>:</p>
<pre class="r"><code>uri &lt;- sprintf(
  &quot;%1s%2s%3s&quot;,
  &quot;gs://gcp-public-data-landsat/LC08/01/001/002/&quot;,
  &quot;LC08_L1GT_001002_20160817_20170322_01_T2/&quot;,
  &quot;LC08_L1GT_001002_20160817_20170322_01_T2_B5.TIF&quot;
)

cloudImage &lt;- ee$Image$loadGeoTIFF(uri)

print(cloudImage)</code></pre>
<p>Note that if you want to reload a Cloud Optimized GeoTIFF that you <a href="https://developers.google.com/earth-engine/guides/exporting#to-cloud-storage"><strong>export from Earth Engine to Cloud Storage</strong></a>, when you do the export, set cloudOptimized to true as described <a href="https://developers.google.com/earth-engine/guides/exporting#configuration-parameters"><strong>here</strong></a>.</p>
</div>
<div id="constants-images" class="section level3">
<h3>4. Constants images</h3>
<p>In addition to loading images by <strong>ID</strong>, you can also create images from constants, lists or other suitable Earth Engine objects. The following illustrates methods for creating images, getting band subsets, and manipulating bands:</p>
<pre class="r"><code>library(rgee)

ee_Initialize()

# Create a constant Image with a pixel value of 1.
image1 &lt;- ee$Image(1)
print(image1, type = &quot;json&quot;)
print(image1, type = &quot;simply&quot;)
print(image1, type = &quot;ee_print&quot;)
# You can see it.
Map$addLayer(image1)

# Concatenate two Images into one multi-band image.
image2 &lt;- ee$Image(2)
image3 &lt;- ee$Image$cat(c(image1, image2))
ee_print(image3, clean = TRUE)

# Change print option by: &quot;simply&quot;,&quot;json&quot;,&quot;ee_print&quot;
options(rgee.print.option = &quot;simply&quot;)

# Create a multi-band image from a list of constants.
multiband &lt;- ee$Image(c(1, 2, 3))
print(multiband)

# Select and (optionally) rename bands.
renamed &lt;- multiband$select(
  opt_selectors = c(&quot;constant&quot;, &quot;constant_1&quot;, &quot;constant_2&quot;), # old names
  opt_names = c(&quot;band1&quot;, &quot;band2&quot;, &quot;band3&quot;)                   # new names
)
ee_print(renamed)

# Add bands to an image.
image4 &lt;- image3$addBands(ee$Image(42))
print(image4)</code></pre>
</div>

                 
                
         
      
    </div>

    
   

    <div class="w3-container">
    	
      <div class="w3-container">
        	<hr class = "tag">
        Tags: 
          
          <a class="w3-btn w3-small w3-round w3-green" href="/tags/image/">image</a>
          
          <a class="w3-btn w3-small w3-round w3-green" href="/tags/imagecollection/">imageCollection</a>
          
          <hr class = "tag">
       
        </div>
     
	</div>



  


    
    
    
    
    <br>  
</div>



<div class="w3-container w3-card-2 w3-black">
<div class="w3-row">
  <div class="w3-col l2 m2 s12 w3-center">
  
    <img src="https://user-images.githubusercontent.com/16768318/103300162-895c9900-49fe-11eb-9b6e-eac9b6d9b132.png" width ="100px" class="w3-circle w3-center w3-margin-top w3-margin-bottom" alt="author" >
   
  </div>
  <div class="w3-col l10 m10 s12 ">
  <div class = "w3-container w3-margin-top">
    Fernando Prudencio
    <p class="w3-small"><strong>This article is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by/4.0/" class="w3-text-white">Creative Commons Attribution 4.0 International License</strong></a>.</p>
  </div>
  </div>
  </div>
</div>

      
    <div class="w3-content" > 
      <div class="w3-bar w3-section">
	     
	      <a  href="https://r-earthengine.github.io/image_02/" class="w3-btn w3-text-indigo w3-hover-green">
	          &#10094; Image Visualization
	      </a>
	    
	      <a class="w3-btn w3-right w3-text-indigo w3-hover-green" href="https://r-earthengine.github.io/intro_03/">
	       basic rgee - Best practices &#10095;
	      </a>
  	  </div>
    </div>
	
 

  
  
      
      <script src="/js/w3codecolor-min.js"></script>

      <script>
      w3CodeColor();
      </script>
  

      <div id="wrapads">
        <div class="adBanner">
         
        </div>
       </div>
      
      <div id="allowads" class="allowads-overlay">
  
        <div class="allowads-overlay-content">
        <div class="w3-panel w3-pink w3-large">
        

         <p> We notice you're using an adblocker.  If you like our webite please keep us running by whitelisting this site in your ad blocker. We’re serving quality, related ads only. Thank you!</p>
         
          <div class="w3-btn w3-green"  onclick="closeOverlay()">I've whitelisted your website.</div><br>
          <div class="w3-button w3-small"  onclick="closeOverlay()">Not now</div>
        </div>
        </div>
      </div>

      <script>
      function closeOverlay() {
        document.getElementById("allowads").style.width = "0%";
        document.getElementById("wrapads").style.height="1px";
      }

      function detectads() {
      var h = document.getElementById("wrapads").clientHeight;

      if (h==0){ document.getElementById("allowads").style.width = "100%";
      }
      }
      

     
      
      </script>
        </div>
        
          <script>
  shareurl=encodeURIComponent(location.protocol + '//' + location.host + location.pathname);
  sharetitle=encodeURIComponent(document.title);
    
  </script>
<div class="icon-bar">
<script>
document.write( '<a href="javascript:bookmark();" class="bookmark w3-tooltip"><i class="fa fa-bookmark"></i><span style="position:absolute;left:40px;bottom:18px" class="w3-text w3-small w3-tag w3-round w3-green ">Bookmark this page</span></a> ');

document.write( '<a href="http://www.facebook.com/sharer.php?u='+shareurl+'" onclick="window.open(this.href, \'mywin\',\'left=20,top=20,width=500,height=500,toolbar=1,resizable=0\'); return false;" class="facebook w3-tooltip"><i class="fa fa-facebook "></i><span style="position:absolute;left:40px;bottom:18px" class="w3-text w3-small w3-tag w3-round w3-green">Share to Facebook</span></a> ');

document.write( '<a href="https://twitter.com/share?url='+shareurl+'&amp;text='+sharetitle+'" onclick="window.open(this.href, \'mywin\',\'left=20,top=20,width=500,height=500,toolbar=1,resizable=0\'); return false;" class="twitter w3-tooltip"><i class="fa fa-twitter"></i><span style="position:absolute;left:40px;bottom:18px" class="w3-text w3-small w3-tag w3-round w3-green">Share to Twitter</span></a> ');
document.write( '<a href="https://plus.google.com/share?url='+shareurl+'" onclick="window.open(this.href, \'mywin\',\'left=20,top=20,width=500,height=500,toolbar=1,resizable=0\'); return false;" class="google w3-tooltip"><i class="fa fa-google"></i><span style="position:absolute;left:40px;bottom:18px" class="w3-text w3-small w3-tag w3-round w3-green">Share to Google Plus</span></a>');

document.write( '<a href="http://www.linkedin.com/shareArticle?mini=true&amp;url='+shareurl+'" onclick="window.open(this.href, \'mywin\',\'left=20,top=20,width=500,height=500,toolbar=1,resizable=0\'); return false;" class="linkedin w3-tooltip"><i class="fa fa-linkedin"></i><span style="position:absolute;left:40px;bottom:18px" class="w3-text w3-small w3-tag w3-round w3-green">Share to Linkedin</span></a>');

</script>

<script>
function bookmark(){

if ('sidebar' in window && 'addPanel' in window.sidebar) { 
                window.sidebar.addPanel(location.href,document.title,"");
            } else if(  false) { 
                window.external.AddFavorite(location.href,document.title); 
            } else { 
                alert('Press ' + (navigator.userAgent.toLowerCase().indexOf('mac') != - 1 ? 'Command/Cmd' : 'CTRL') + ' + D to bookmark this page.');
            }
        }

</script>
</div>
        
           
          
  <div id="disqus_thread"></div>
    <script type="text/javascript">
    (function() {
      
      
      if (window.location.hostname === 'localhost') return;

      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      var disqus_shortname = 'http-r-earthengine-github-io';
      dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

        
        
      </div>
    

   
    <footer id="footer" >
      <div class="w3-container w3-center w3-padding-32"> 
  
  <hr class="headfoot">
  <p>Powered by <a href="https://gohugo.io">Hugo</a> | Theme - <a href="https://github.com/jesselau76/hugo-w3-simple">Hugo W3 Simple</a>
  </p>
  © <a href="https://github.com/r-spatial/rgee">rgee</a> 2020 | <a href="https://github.com/csaybar">Github</a> | <a href="https://twitter.com/talk_rspatial">Twitter</a>  | <a href="/index.xml">RSS</a>
  
</div>

    </footer>
    

    
  </div>

   
  <div id="cookiebar" class="w3-bar w3-top w3-black w3-border   " >
  
  <span class="w3-bar-item w3-small">This website uses cookies to ensure you get the best experience on our website. <a href="/privacy-policy/">Learn more</a></span>
  <span onclick="gotitcookiebar()"
  class="w3-button w3-small w3-green w3-right">Got it</span>
   </div>

    
<script>
function gotitcookiebar() {
    var x =document.getElementById("cookiebar");
    x.style.display = "none";
var x = document.getElementsByTagName("BODY")[0];
    x.style.paddingTop = "0px";
    

}


    
function checkCookie() {
    var user=getCookie("cookiebardisplayed");
    if (user == "") {
      setCookie("cookiebardisplayed","0",365);}

    user=getCookie("cookiebardisplayed");
    if (user =="0")
    {

        var x =document.getElementById("cookiebar");
    x.style.display = "block";
    var h = document.getElementById('cookiebar').clientHeight;
    
    var x = document.getElementsByTagName("BODY")[0];
    x.style.paddingTop = h+"px";
    setCookie("cookiebardisplayed","1",365);
    } 
    
}
function setCookie(cname,cvalue,exdays) {
    var d = new Date();
    d.setTime(d.getTime() + (exdays*24*60*60*1000));
    var expires = "expires=" + d.toGMTString();
    document.cookie = cname + "=" + cvalue + ";" + expires + ";path=/";
}

function getCookie(cname) {
    var name = cname + "=";
    var decodedCookie = decodeURIComponent(document.cookie);
    var ca = decodedCookie.split(';');
    for(var i = 0; i < ca.length; i++) {
        var c = ca[i];
        while (c.charAt(0) == ' ') {
            c = c.substring(1);
        }
        if (c.indexOf(name) == 0) {
            return c.substring(name.length, c.length);
        }
    }
    return "";
}
document.addEventListener('DOMContentLoaded', function() {
    checkCookie();
}, false);

</script>   


  
    
      <div id="backtotop" class="w3-hide-small w3-hide-medium">
  
        <button onclick="topFunction()" class="w3-btn w3-red w3-large" style="width:160px">Back To Top
        &rarr;</button>
        
      </div>

      <script>
        function topFunction() {
          document.body.scrollTop = 0;
          document.documentElement.scrollTop = 0;
      }
      </script>


    
 
    
    <script>
    
    function isVisible(elem) {

      let coords = elem.getBoundingClientRect();

      let windowHeight = document.documentElement.clientHeight;

      
      let topVisible = coords.top > 0 && coords.top < windowHeight;
      let bottomVisible = coords.bottom < windowHeight && coords.bottom > 0;

      return topVisible || bottomVisible;
    }

    

    function showVisible() {
      for (let img of document.querySelectorAll('img')) {
        let realSrc = img.dataset.src;
        if (!realSrc) continue;

        if (isVisible(img)) {
          

          img.src = realSrc;

          img.dataset.src = '';
        }
      }
      if ( Array.from(document.querySelectorAll('[data-src]')).every(
        img => img.getAttribute('data-src') === '') ) {
        window.removeEventListener('scroll', showVisible)
      }

    }

    window.addEventListener('scroll', showVisible);
    showVisible();
  </script>


    
    
      <div class="progress-container" id="scrollbar">
        <div class="progress-bar" id="progress-bar"></div>
      </div>  


    
<script>

window.onscroll = function() {scrollFunction()};

function scrollFunction() {
  <!-- TOC -->
    
    
    
    <!-- cookie bar -->
    
    if (document.body.scrollTop > 50 || document.documentElement.scrollTop > 50) {
        var x =document.getElementById("cookiebar");
        x.style.display = "none";
        var x = document.getElementsByTagName("BODY")[0];
        x.style.paddingTop = "0px";

    } 
    
<!-- Back to top -->
    
    if (document.body.scrollTop > 50 || document.documentElement.scrollTop > 50) {
        document.getElementById("backtotop").style.display = "block";
    } else {
        document.getElementById("backtotop").style.display = "none";
    }
    
    <!-- scroll indicator -->
    
      var winScroll = document.body.scrollTop || document.documentElement.scrollTop;
      var height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
      var scrolled = (winScroll / height) * 100;
      document.getElementById("progress-bar").style.width = scrolled + "%";
      if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
            document.getElementById("scrollbar").style.display = "block";
        } else {
            document.getElementById("scrollbar").style.display = "none";
        }
    

    

    <!-- allowads -->
    
       if (document.body.scrollTop > 2000 || document.documentElement.scrollTop > 2000) {
          detectads();
       } 

    
}


</script>



  

</body>
</html>
